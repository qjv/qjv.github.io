<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snow Crows Editor Preview</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://qjv.dev.br/armory/styles/armory.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">
</head>
<body>

<div class="container">
    
    <div id="suggestions-panel" class="suggestions-panel">
        <div class="suggestion-group">
            <div class="sg-title">BEHAVIOR</div>
            <label class="compact-check" title="Scans automatically as you type">
                <input type="checkbox" id="scan-as-type" checked> <span>Auto-Scan</span>
            </label>
            <label class="compact-check" title="Replaces matches immediately if there is only 1 candidate">
                <input type="checkbox" id="auto-replace"> <span>Auto-Replace</span>
            </label>
            <label class="compact-check" title="Only scans text inside <brackets>">
                <input type="checkbox" id="safe-mode"> <span>Safe Mode</span>
            </label>
        </div>
        <div class="sg-separator"></div>
        <div class="suggestion-group">
            <div class="sg-title">FILTERS</div>
            <label class="compact-check"><input type="checkbox" id="suggest-sc" checked> <span style="color:#fdba74">SC Tags</span></label>
            <label class="compact-check"><input type="checkbox" id="suggest-skills" checked> <span style="color:#fc9f9a">Skills</span></label>
            <label class="compact-check"><input type="checkbox" id="suggest-traits" checked> <span style="color:#fc9f9a">Traits</span></label>
            <label class="compact-check"><input type="checkbox" id="suggest-items" checked> <span style="color:#fc9f9a">Items</span></label>
        </div>
        <div class="sg-separator"></div>
        <div class="suggestion-actions">
            <button onclick="manualScan()" class="sg-btn primary">Scan Now</button>
            <button onclick="gw2Data = {items:[],skills:[],traits:[],loaded:false}; clearCache();" class="sg-btn danger">Clear Cache</button>
            <button onclick="toggleSuggestions()" class="sg-close-btn" title="Close Panel">√ó</button>
        </div>
    </div>

    <div class="header">
        <h1>Snow Crows Editor Preview</h1>
    </div>

    <div class="editor-wrapper">
        <div class="editor-panel">
            <div class="input-container">
                <textarea id="markdown-input" placeholder="Type here... (Markdown supported)" spellcheck="false"># Snow Crows Formatting Examples

Quick reference for all available formatting options.

## Text Styles

**Bold text**, *italic text*, ~~strikethrough~~, and `inline code` for technical terms.

## Lists

**Unordered:**
- First item with [sc:2]Alacrity[/sc]
- Second item with [sc:7]Quickness[/sc]
- Third item

**Ordered:**
1. Gather [sc:1414]Hero Points[/sc]
2. Unlock [sc:1310]Glider[/sc] mastery
3. Train elite specialization

## Links & Images

Visit the [official wiki](https://wiki.guildwars2.com) for more information.

![Snow Crows Logo](https://snowcrows.com/assets/logotype_white.png)

## SC Armory Tags

Common boons: [sc:1]Aegis[/sc], [sc:2]Alacrity[/sc], [sc:7]Quickness[/sc], [sc:5]Might[/sc]

Professions: [sc:28]Guardian[/sc], [sc:48]Firebrand[/sc], [sc:874]Willbender[/sc]

## GW2 API Tags (Skills & Items)

Skills work best with angle brackets: <[gw2:9081:skill]>, <[gw2:9146:skill]>

Direct tags: [gw2:9168:skill] or [gw2:30704:item]

## Waypoints

Navigate the map:
- [wp:[&BO8GAAA=]]Palace of Gathering Waypoint[/wp]
- [wp:[&BPAGAAA=]]Trade Commons Waypoint[/wp]

## Traitlines

Example traitline ([sc:518]Water[/sc]):

[traitline:17:363:349:2028]

## Blockquote

> **Pro Tip:** Always maintain [sc:1]Aegis[/sc] before big attacks!

---

**Quick Reference:**
- `[sc:id]Name[/sc]` - SC armory
- `<Name>` or `[gw2:id:type]` - GW2 API
- `[wp:[&code]]Name[/wp]` - [sc:994]Waypoint[/sc]
- `[traitline:spec:t1:t2:t3]` - Traitlines</textarea>
                <div id="review-overlay" class="review-overlay"></div>
            </div>

            <div class="toolbar">
                <button onclick="insertMarkdown('**', '**')">B</button>
                <button onclick="insertMarkdown('*', '*')">I</button>
                <button onclick="insertMarkdown('~~', '~~')">S</button>
                <button onclick="insertMarkdown('`', '`')">&lt;/&gt;</button>
                <div style="width: 1px; height: 16px; background: #3f4454; margin: 0 4px;"></div>
                <button onclick="insertMarkdown('[', '](url)')">üîó</button>
                <button onclick="insertMarkdown('![alt]', '(url)')">üñºÔ∏è</button>
                <div style="width: 1px; height: 16px; background: #3f4454; margin: 0 4px;"></div>
                <button onclick="insertMarkdown('- ', '')">‚Ä¢ List</button>
                <button onclick="insertMarkdown('1. ', '')">1. List</button>
                <button onclick="insertMarkdown('> ', '')">‚Äú Quote</button>
                <button onclick="insertMarkdown('---', '')">‚Äî Line</button>
                <div style="width: 1px; height: 16px; background: #3f4454; margin: 0 4px;"></div>
                <button onclick="insertWaypoint()">üìç WP</button>
                <button onclick="insertTraitline()">üé® Traits</button>
                <button onclick="openArmoryModal()">SC</button>
                <button onclick="openGW2Modal()">GW2</button>
                <button onclick="toggleSuggestions()" style="color: #fdba74;">‚ú® Suggestions</button>
                
                <div id="status-bar" class="status-bar">Ready</div>
            </div>
            
            <div id="suggestion-tooltip" class="suggestion-tooltip"></div>
        </div>

        <div class="preview-panel">
            <div class="panel-header" style="padding: 0.5rem 1rem; background: #16181d; border-bottom: 1px solid #2a2a2a; font-size: 0.75rem; font-weight: 600; color: #64748b; text-transform: uppercase;">Preview</div>
            <div id="preview"></div>
        </div>
    </div>
</div>

<div id="armory-modal" class="modal"><div class="modal-content"><div class="modal-header"><span>SC Armory</span><button class="modal-close" onclick="closeArmoryModal()">√ó</button></div><div class="modal-search"><input type="text" id="armory-search" placeholder="Search SC items..." oninput="filterArmory()"></div><div id="armory-list" class="modal-list"></div></div></div>
<div id="gw2-modal" class="modal"><div class="modal-content"><div class="modal-header"><span>GW2 API</span><button class="modal-close" onclick="closeGW2Modal()">√ó</button></div><div class="modal-search" style="display:flex; gap:0.5rem;"><select id="gw2-type-filter" onchange="filterGW2()" style="background:#0f1014; color:#e2e8f0; border:1px solid #3f4454; border-radius:6px; padding:0 0.5rem;"><option value="all">All</option><option value="items">Items</option><option value="skills">Skills</option><option value="traits">Traits</option></select><input type="text" id="gw2-search" class="gw2-search-input" placeholder="Search GW2 database..." oninput="filterGW2()"></div><div id="gw2-list" class="modal-list"></div></div></div>
<div id="waypoint-modal" class="modal"><div class="modal-content"><div class="modal-header"><span>Insert Waypoint</span><button class="modal-close" onclick="closeWaypointModal()">√ó</button></div><div class="waypoint-filters"><select id="waypoint-map-filter" class="waypoint-map-select" onchange="filterWaypoints()"><option value="all">All Maps</option></select><input type="text" id="waypoint-search" class="waypoint-search-input" placeholder="Search waypoint..." oninput="filterWaypoints()"></div><div id="waypoint-list" class="modal-list"></div></div></div>
<div id="traitline-modal" class="modal"><div class="modal-content" style="width: 600px;"><div class="modal-header"><span>Traitline Generator</span><button class="modal-close" onclick="closeTraitlineModal()">√ó</button></div><div style="padding: 1.5rem;"><div class="dropdown-container" id="spec-dropdown"><span class="dropdown-label">Specialization</span><div class="custom-dropdown"><input type="text" class="dropdown-search" id="spec-input" placeholder="Select Specialization..."><div class="dropdown-options" id="spec-options"></div></div></div><div id="traits-container" style="display:none; gap:10px; margin-top:1rem;"><div class="dropdown-container" id="trait1-dropdown" style="flex:1;"><span class="dropdown-label">Trait 1</span><div class="custom-dropdown"><input type="text" class="dropdown-search" id="trait1-input" placeholder="Select..."><div class="dropdown-options" id="trait1-options"></div></div></div><div class="dropdown-container" id="trait2-dropdown" style="flex:1;"><span class="dropdown-label">Trait 2</span><div class="custom-dropdown"><input type="text" class="dropdown-search" id="trait2-input" placeholder="Select..."><div class="dropdown-options" id="trait2-options"></div></div></div><div class="dropdown-container" id="trait3-dropdown" style="flex:1;"><span class="dropdown-label">Trait 3</span><div class="custom-dropdown"><input type="text" class="dropdown-search" id="trait3-input" placeholder="Select..."><div class="dropdown-options" id="trait3-options"></div></div></div></div><button id="insert-trait-btn" onclick="insertTraitlineFromModal()" style="display:none; width:100%; margin-top:1.5rem; padding:0.75rem; background:#6366f1; color:white; border:none; border-radius:6px; font-weight:600; cursor:pointer;">Insert Traitline</button></div></div></div>

<script src="armory.js"></script>
<script src="armory-gw2.js"></script>
<!-- New GW2 Armory Library -->
<script src="https://qjv.dev.br/armory/src/palette-mapping.js"></script>
<script src="https://qjv.dev.br/armory/src/data-fetcher.js"></script>
<script src="https://qjv.dev.br/armory/src/tooltip.js"></script>
<script src="https://qjv.dev.br/armory/src/renderer.js"></script>
<script src="https://qjv.dev.br/armory/src/build-parser.js"></script>
<script src="https://qjv.dev.br/armory/src/armory.js"></script>
<script src="script.js"></script>

</body>
</html>